{"ast":null,"code":"import _regeneratorRuntime from\"/Users/saravanan/workspace-kpmg/EMP_SYSTEM/employee-management-system-ui/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/saravanan/workspace-kpmg/EMP_SYSTEM/employee-management-system-ui/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/saravanan/workspace-kpmg/EMP_SYSTEM/employee-management-system-ui/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import EmployeeService from\"../services/EmployeeService\";import Employee from\"./Employee\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EmployeeList=function EmployeeList(){var navigate=useNavigate();var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),employees=_useState4[0],setEmployees=_useState4[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoading(true);_context.prev=1;_context.next=4;return EmployeeService.getEmployees();case 4:response=_context.sent;setEmployees(response.data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:setLoading(false);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);var deleteEmployee=function deleteEmployee(e,id){e.preventDefault();EmployeeService.deleteEmployee(id).then(function(res){if(employees){setEmployees(function(prevElement){return prevElement.filter(function(employee){return employee.id!==id;});});}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto my-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-12\",children:/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return navigate(\"/addEmployee\");},className:\"rounded bg-slate-600 text-white px-6 py-2 font-semibold\",children:\"Add Employee\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex shadow border-b\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Email ID\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-right font-medium text-gray-500 uppercase tracking-wider py-3 px-6\",children:\"Actions\"})]})}),!loading&&/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white\",children:employees.map(function(employee){return/*#__PURE__*/_jsx(Employee,{employee:employee,deleteEmployee:deleteEmployee},employee.id);})})]})})]});};export default EmployeeList;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","EmployeeService","Employee","EmployeeList","navigate","loading","setLoading","employees","setEmployees","fetchData","getEmployees","response","data","console","log","deleteEmployee","e","id","preventDefault","then","res","prevElement","filter","employee","map"],"sources":["/Users/saravanan/workspace-kpmg/EMP_SYSTEM/employee-management-system-ui/src/components/EmployeeList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport EmployeeService from \"../services/EmployeeService\";\nimport Employee from \"./Employee\";\n\nconst EmployeeList = () => {\n  const navigate = useNavigate();\n\n  const [loading, setLoading] = useState(true);\n  const [employees, setEmployees] = useState(null);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      setLoading(true);\n      try {\n        const response = await EmployeeService.getEmployees();\n        setEmployees(response.data);\n      } catch (error) {\n        console.log(error);\n      }\n      setLoading(false);\n    };\n    fetchData();\n  }, []);\n\n  const deleteEmployee = (e, id) => {\n      e.preventDefault();\n      EmployeeService.deleteEmployee(id).then((res) => {\n          if(employees) {\n              setEmployees((prevElement) => {\n                  return prevElement.filter((employee) => employee.id !== id);\n              })\n          }\n      });\n  }\n\n  return (\n    <div className=\"container mx-auto my-8\">\n      <div className=\"h-12\">\n        <button\n          onClick={() => navigate(\"/addEmployee\")}\n          className=\"rounded bg-slate-600 text-white px-6 py-2 font-semibold\">\n          Add Employee\n        </button>\n      </div>\n      <div className=\"flex shadow border-b\">\n        <table className=\"min-w-full\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\n                First Name\n              </th>\n              <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\n                Last Name\n              </th>\n              <th className=\"text-left font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\n                Email ID\n              </th>\n              <th className=\"text-right font-medium text-gray-500 uppercase tracking-wider py-3 px-6\">\n                Actions\n              </th>\n            </tr>\n          </thead>\n          {!loading && (\n              <tbody className=\"bg-white\">\n                  {employees.map((employee) => (\n                      <Employee \n                      employee={employee}\n                      deleteEmployee={deleteEmployee} \n                      key={employee.id}></Employee>\n                  ))}\n              </tbody>\n          )}\n        </table>\n      </div>\n    </div>\n  );\n};\n\nexport default EmployeeList;"],"mappings":"0eAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,WAAT,KAA4B,kBAA5B,CACA,MAAOC,gBAAP,KAA4B,6BAA5B,CACA,MAAOC,SAAP,KAAqB,YAArB,C,wFAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CAEA,cAA8BD,QAAQ,CAAC,IAAD,CAAtC,wCAAOM,OAAP,eAAgBC,UAAhB,eACA,eAAkCP,QAAQ,CAAC,IAAD,CAA1C,yCAAOQ,SAAP,eAAkBC,YAAlB,eAEAV,SAAS,CAAC,UAAM,CACd,GAAMW,UAAS,4FAAG,kJAChBH,UAAU,CAAC,IAAD,CAAV,CADgB,sCAGSL,gBAAe,CAACS,YAAhB,EAHT,QAGRC,QAHQ,eAIdH,YAAY,CAACG,QAAQ,CAACC,IAAV,CAAZ,CAJc,+EAMdC,OAAO,CAACC,GAAR,cANc,QAQhBR,UAAU,CAAC,KAAD,CAAV,CARgB,oEAAH,kBAATG,UAAS,0CAAf,CAUAA,SAAS,GACV,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAMM,eAAc,CAAG,QAAjBA,eAAiB,CAACC,CAAD,CAAIC,EAAJ,CAAW,CAC9BD,CAAC,CAACE,cAAF,GACAjB,eAAe,CAACc,cAAhB,CAA+BE,EAA/B,EAAmCE,IAAnC,CAAwC,SAACC,GAAD,CAAS,CAC7C,GAAGb,SAAH,CAAc,CACVC,YAAY,CAAC,SAACa,WAAD,CAAiB,CAC1B,MAAOA,YAAW,CAACC,MAAZ,CAAmB,SAACC,QAAD,QAAcA,SAAQ,CAACN,EAAT,GAAgBA,EAA9B,EAAnB,CAAP,CACH,CAFW,CAAZ,CAGH,CACJ,CAND,EAOH,CATD,CAWA,mBACE,aAAK,SAAS,CAAC,wBAAf,wBACE,YAAK,SAAS,CAAC,MAAf,uBACE,eACE,OAAO,CAAE,yBAAMb,SAAQ,CAAC,cAAD,CAAd,EADX,CAEE,SAAS,CAAC,yDAFZ,0BADF,EADF,cAQE,YAAK,SAAS,CAAC,sBAAf,uBACE,eAAO,SAAS,CAAC,YAAjB,wBACE,cAAO,SAAS,CAAC,YAAjB,uBACE,mCACE,WAAI,SAAS,CAAC,wEAAd,wBADF,cAIE,WAAI,SAAS,CAAC,wEAAd,uBAJF,cAOE,WAAI,SAAS,CAAC,wEAAd,sBAPF,cAUE,WAAI,SAAS,CAAC,yEAAd,qBAVF,GADF,EADF,CAiBG,CAACC,OAAD,eACG,cAAO,SAAS,CAAC,UAAjB,UACKE,SAAS,CAACiB,GAAV,CAAc,SAACD,QAAD,qBACX,KAAC,QAAD,EACA,QAAQ,CAAEA,QADV,CAEA,cAAc,CAAER,cAFhB,EAGKQ,QAAQ,CAACN,EAHd,CADW,EAAd,CADL,EAlBN,GADF,EARF,GADF,CAyCD,CAxED,CA0EA,cAAed,aAAf"},"metadata":{},"sourceType":"module"}